  <!DOCTYPE html>
  <html lang="en">
  <html>
  <link rel="stylesheet" type="text/css" href="togle.css">
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <!-- <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script> -->
  <script>
    function hide(el_id){
      document
        .getElementById(el_id)
        .removeAttribute("gltf-model"); 
    }

    function check_model() {

      if (document.getElementById('model').checked) {
        alert('Выбран');
      }
      else {
        alert ('Не выбран');
      }
      
    }

    // function add_button_action(but_id, func, el_id){


    // }
    window.onload = function () {

      // анимация РАЗЛОЖЕНИЕ ПЛОСКОСТЕЙ
      document
      .getElementById("animation")
      .addEventListener("click", function () {
        // удаляем гантелю
        document
        .getElementById("gantelka")
        .removeAttribute("gltf-model");
        // очищаем анимейшен миксер
        document
          .getElementById("planes")
          .removeAttribute("animation-mixer"); 
          // назначаем новый анимейшен миксер
        document
          .getElementById("planes")
          .setAttribute("animation-mixer", "clip: Plane*; timeScale: 1; clampWhenFinished: true; repetitions:1");
      });
      // анимация СКЛАДЫВАНИЕ ПЛОСКОСТЕЙ
      document
        .getElementById("animation_reverse")
        .addEventListener("click", function () {

      document
        .getElementById("gantelka")
        .setAttribute("gltf-model", "#gantelya");

      document
        .getElementById("planes")
        .removeAttribute("animation-mixer"); 

      document
        .getElementById("planes")
          .setAttribute("animation-mixer", "clip: Plane*; timeScale: -1; clampWhenFinished: true; repetitions:1");
      });
// СКРЫТЬ ПЛОСКОСТИ
      document
        .getElementById("visibility_off")
        .addEventListener("click", function () {
          hide("planes");
      });
        // ОТОБРАЗИТЬ ПЛОСКОСТИ
      document
        .getElementById("visibility_on")
        .addEventListener("click", function () {
      document
        .getElementById("planes")
        .setAttribute("gltf-model", "#down"); 
      });
      // СПРЯТАТЬ ГАНТЕЛЮ
        document
        .getElementById("vis_gant_off")
        .addEventListener("click", function () {
      document
        .getElementById("gantelka")
        .removeAttribute("gltf-model"); 
      });

        // ПОКАЗАТЬ ГАНТЕЛЮ
        document
        .getElementById("vis_gant_on")
        .addEventListener("click", function () {
      document
        .getElementById("gantelka")
        .setAttribute("gltf-model", "#gantelya"); 
      });

    };
  </script>

  <style>
    .buttons {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 5em;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }

  </style>

  <body style="margin : 0px; overflow: hidden;">

    Модель:
    <label class="switch">
      <input type="checkbox" id="model" onchange="check_model()">
      <span class="slider round"></span>
    </label><br>
    
    <div class="buttons">
      <button id="animation">Разложить чертеж</button>
      <button id="animation_reverse">Сложить чертеж</button>
      <button id="visibility_off">Спрятать плоскости</button>
      <button id="visibility_on">Показать плоскости</button>
      <button id="vis_gant_off">Спрятать гантелю</button>
      <button id="vis_gant_on">Показать гантелю</button>
    </div>

    <a-scene
    arjs
    embedded
    renderer="logarithmicDepthBuffer: true;"
    vr-mode-ui="enabled: false"
    gesture-detector
    id="scene"
    >
    <a-assets>
      <a-asset-item id="down" src="models/planes_animation_down.glb"></a-asset-item>
      <a-asset-item id="gantelya" src="models/gantelya.glb"></a-asset-item>
    </a-asset-item>
  </a-assets>
  <a-marker
  preset="hiro"
  raycaster="objects: .clickable"
  emitevents="true"
  cursor="fuse: false; rayOrigin: mouse;"
  id="markerA"
  >
  <a-entity
  id="planes"
  gltf-model="#down"
  position="0 0 0"
  scale="1 1 1"
  class="clickable"
  gesture-handler="minScale: 0.1; maxScale: 20"
  >
  </a-entity>
  <a-entity
  id="gantelka"
  gltf-model="#gantelya"
  position="0 0 0"
  scale="1 1 1"
  class="clickable"
  gesture-handler="minScale: 0.1; maxScale: 20"
  ></a-entity>
  </a-marker>
  <a-entity camera></a-entity>
  </a-scene>