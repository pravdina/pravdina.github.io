  <!DOCTYPE html>
  <html lang="en">
  <html>
  <link rel="stylesheet" type="text/css" href="togle.css">
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- we import arjs version without NFT but with marker + location based support -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <!-- <script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script> -->
  <script>

    var i=0;

    function check(a){
      if (document.getElementById(`${a}_checkbox`).checked) {
        // alert('Выбран');
        document
        .getElementById(`${a}`)
        .setAttribute("gltf-model", `#${a}_glb`); 
      }
      else {
        // alert ('Не выбран');
        document
        .getElementById(`${a}`)
        .removeAttribute("gltf-model");
      }
    }

    function to_2d(){
        // удаляем модель
        document
        .getElementById("model")
        .removeAttribute("gltf-model");
        // удаляем вспомогательные линии
        document
        .getElementById("lines")
        .removeAttribute("gltf-model");
        // очищаем анимейшен миксер
        document
          .getElementById("planes")
          .removeAttribute("animation-mixer"); 
        // назначаем новый анимейшен миксер
        document
          .getElementById("planes")
          .setAttribute("animation-mixer", "clip: p*; timeScale: 1; clampWhenFinished: true; repetitions:1");
    }

    function to_3d(){
      // делаем модель видимой
      document
        .getElementById("model")
        .setAttribute("gltf-model", "#model_glb");
      // делаем линии видимыми
      document
        .getElementById("lines")
        .setAttribute("gltf-model", "#lines_glb");
      // очищаем анимейшен миксер
      document
        .getElementById("planes")
        .removeAttribute("animation-mixer"); 
      // назначаем новый анимейшен миксер
      document
        .getElementById("planes")
        .setAttribute("animation-mixer", "clip: p*; timeScale: -1; clampWhenFinished: true; repetitions:1");
    }

    function drawing_animation(){
      if (i==0){
        // alert("Сейчас чертеж разложиться");
        document
          .getElementById("drawing_animation_btn")
          .setAttribute("value", "Скласти кресленик");
        to_2d()
        i=1;
      }
      else{
        // alert("Сейчас чертеж cложиться");
        document
          .getElementById("drawing_animation_btn")
          .setAttribute("value", "Розкласти кресленик");
        to_3d()
        i=0;
      }

    }


  </script>

  <style>
    .buttons {
      position: absolute;
      bottom: 0px;
      left: 0;
      width: 100%;
      height: 5em;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 10;
      background-color: white;
    }

    #drawing_animation_btn{
      width: 90%;
      margin-right: 5%;
      margin-left: 5%;
    }
    /*.description{
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background-color: white;
      padding: 10px;
      z-index: 10;
    }*/
    .title{
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 50px;
      background-color: white;
      padding: 10px;
      text-align: center;
      z-index: 10;
    }
    #select_menu{
      position: absolute;
      top: 50px;
      left: 0;
      z-index: 10;
      font-size: 20px;
    }
  </style>

  <body style="margin : 0px; overflow: hidden;">

    <div class="title">Положення прямої лінії відносно площин проекцій</div>
    <select id="select_menu"> <!--Supplement an id here instead of using 'name'-->
      <option value="value1" selected>Пряма загального положення</option>
      <option value="value2">Пряма горизонтального рівня</option>
      <option value="value3">Пряма фронтального рівня</option>
      <option value="value3">Пряма профільного рівня</option>
      <option value="value2">Горизонтально-проектуюча пряма</option>
      <option value="value3">Фронтально-проектуюча пряма</option>
      <option value="value3">Профільно-проектуюча пряма</option>
    </select>
    <!-- <div class="description">jhh</div> -->
    <div class="buttons">
    Модель: 
    <label class="switch">
      <input type="checkbox" id="model_checkbox" onchange="check('model')" checked="true">
      <span class="slider round"></span>
    </label><br>
    Линії: 
    <label class="switch">
      <input type="checkbox" id="lines_checkbox" onchange="check('lines')" checked="true">
      <span class="slider round"></span>
    </label><br>

    <input id ='drawing_animation_btn', type=button value="Розкласти кресленик" onclick = "drawing_animation();">

    </div>
    .

    <a-scene
    arjs
    embedded
    renderer="logarithmicDepthBuffer: true;"
    vr-mode-ui="enabled: false"
    gesture-detector
    id="scene"
    >
    <a-assets>
      <a-asset-item id="planes_glb" src="models/prof_level/planes.glb"></a-asset-item>
      <a-asset-item id="lines_glb" src="models/prof_level/lines.glb"></a-asset-item>
      <a-asset-item id="model_glb" src="models/prof_level/model.glb"></a-asset-item>
    </a-asset-item>
  </a-assets>
  <a-marker
  preset="hiro"
  raycaster="objects: .clickable"
  emitevents="true"
  cursor="fuse: false; rayOrigin: mouse;"
  id="markerA"
  >
  <a-entity
  id="planes"
  gltf-model="#planes_glb"
  position="0.5 0.5 0"
  scale="0.5 0.5 0.5"
  class="clickable"
  gesture-handler="minScale: 0.1; maxScale: 20"
  >
  </a-entity>
  <a-entity
  id="lines"
  gltf-model="#lines_glb"
  position="0.5 0.5 0"
  scale="0.5 0.5 0.5"
  class="clickable"
  gesture-handler="minScale: 0.1; maxScale: 20"
  ></a-entity>
  <a-entity
  id="model"
  gltf-model="#model_glb"
  position="0.5 0.5 0"
  scale="0.5 0.5 0.5"
  class="clickable"
  gesture-handler="minScale: 0.1; maxScale: 20"
  ></a-entity>
  </a-marker>
  <a-entity camera></a-entity>
  </a-scene>
